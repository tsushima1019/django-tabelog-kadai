<div class="py-1 bg-dark ">
  <nav class="container d-flex flex-column flex-md-row justify-content-between">
    <a class="py-2 text-white" href="/">{{ TITLE }}</a>
    <a class="py-2 d-none d-md-inline-block text-white" href="/orders/">Orders</a>
    <a class="py-2 d-none d-md-inline-block text-white" href="/profile/">Profile</a>
    <a class="py-2 d-none d-md-inline-block text-white" href="/account/">Account</a>

    <!-- カートリンク + バッジ（隙間なし） -->
    <a class="py-2 d-none d-md-inline-block text-white position-relative" href="/cart/">
      Cart
      {% if request.session.cart and request.session.cart.items|length > 0 %}
      <span class="badge bg-danger position-absolute top-0 start-100 translate-middle rounded-pill" 
            style="font-size: 0.7em;">
        {{ request.session.cart.items|length }}
      </span>
      {% endif %}
    </a>

    {% if user.is_authenticated %}
    <!-- ログアウトリンク（クリックで隠しフォームをPOST） -->
    <a class="py-2 d-none d-md-inline-block text-white" 
       href="#" 
       onclick="document.getElementById('logout-form').submit(); return false;">
      Logout
    </a>

    <!-- 隠しPOSTフォーム -->
    <form id="logout-form" method="post" action="{% url 'logout' %}" style="display: none;">
      {% csrf_token %}
    </form>

    {% else %}
    <a class="py-2 d-none d-md-inline-block text-white" href="/login/">Login</a>
    <a class="py-2 d-none d-md-inline-block text-white" href="/signup/">SignUp</a>
    {% endif %}
  </nav>
</div>
